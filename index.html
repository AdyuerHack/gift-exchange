<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intercambio de Regalos Familiar ğŸ</title>
    <meta name="description" content="Generador aleatorio de amigo invisible para intercambio de regalos familiares">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="snowflakes" aria-hidden="true">
        <div class="snowflake">â…</div>
        <div class="snowflake">â†</div>
        <div class="snowflake">â…</div>
        <div class="snowflake">â†</div>
        <div class="snowflake">â…</div>
        <div class="snowflake">â†</div>
        <div class="snowflake">â…</div>
        <div class="snowflake">â†</div>
    </div>

    <div class="container">
        <header>
            <h1>ğŸ„ Intercambio de Regalos Familiar ğŸ</h1>
            <p class="subtitle">Amigo Invisible Secreto</p>
        </header>

        <!-- PANTALLA DE LOGIN -->
        <div class="card" id="loginView">
            <div class="section">
                <h2>ğŸ” Iniciar SesiÃ³n</h2>
                <p class="description">Selecciona cÃ³mo deseas acceder:</p>

                <div class="login-options">
                    <button id="adminLoginBtn" class="btn btn-admin-login">
                        <span>ğŸ‘¨â€ğŸ’¼</span> Soy Administrador
                    </button>
                    <button id="memberLoginBtn" class="btn btn-member-login">
                        <span>ğŸ</span> Soy Miembro de la Familia
                    </button>
                </div>
            </div>

            <!-- Admin Password Input -->
            <div class="section" id="adminPasswordSection" style="display: none;">
                <h3>ContraseÃ±a de Administrador</h3>
                <div class="input-group">
                    <input type="password" id="adminPasswordInput" placeholder="Ingresa la contraseÃ±a..."
                        autocomplete="off">
                    <button id="loginSubmitBtn" class="btn btn-primary">
                        <span>âœ“</span> Entrar
                    </button>
                </div>
            </div>

            <!-- Member Name Selection -->
            <div class="section" id="memberNameSection" style="display: none;">
                <h3>Selecciona tu Nombre</h3>
                <div class="select-group">
                    <select id="loginMemberSelect" class="member-select">
                        <option value="">-- Selecciona tu nombre --</option>
                    </select>
                </div>
                <button id="memberLoginSubmitBtn" class="btn btn-reveal" disabled>
                    <span>â†’</span> Continuar
                </button>
            </div>
        </div>

        <!-- Logout Button (shown when logged in) -->
        <div class="logout-section" id="logoutSection" style="display: none;">
            <button id="logoutBtn" class="btn-logout">
                <span>â¬…</span> Volver a Login
            </button>
        </div>

        <!-- VISTA ADMINISTRADOR -->
        <div class="card" id="adminView">
            <div class="section">
                <h2>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Miembros de la Familia</h2>
                <div class="input-group">
                    <input type="text" id="memberInput" placeholder="Nombre del familiar..." autocomplete="off">
                    <button id="addButton" class="btn btn-primary">
                        <span>â•</span> Agregar
                    </button>
                </div>

                <div id="membersList" class="members-list"></div>
            </div>

            <div class="section" id="passwordChangeSection">
                <h2>ğŸ”‘ Cambiar ContraseÃ±a de Admin</h2>
                <div class="input-group">
                    <input type="password" id="newPasswordInput" placeholder="Nueva contraseÃ±a..." autocomplete="off">
                    <button id="changePasswordBtn" class="btn btn-primary">
                        <span>ğŸ”’</span> Cambiar
                    </button>
                </div>
            </div>

            <div class="section" id="actionSection" style="display: none;">
                <button id="generateButton" class="btn btn-generate">
                    <span>ğŸ²</span> Generar Asignaciones Secretas
                </button>
                <p class="info-text">
                    âš ï¸ Las asignaciones se generarÃ¡n de forma secreta. Cada miembro podrÃ¡ ver SOLO su propia asignaciÃ³n.
                </p>
            </div>

            <div class="section" id="statusSection" style="display: none;">
                <div class="status-card">
                    <h3>âœ… Asignaciones Generadas</h3>
                    <p>Las asignaciones han sido creadas exitosamente. Ahora cada miembro puede entrar a la aplicaciÃ³n
                        para ver a quiÃ©n le toca regalarle.</p>
                    <div id="revealStatus" class="reveal-status"></div>

                    <button id="viewAssignmentsBtn" class="btn btn-primary" style="margin-top: 20px;">
                        <span>ğŸ‘ï¸</span> Ver Todas las Asignaciones
                    </button>

                    <div id="assignmentsListSection" style="display: none; margin-top: 20px;">
                        <h4 style="color: #155724; margin-bottom: 15px;">ğŸ Cruce de Asignaciones</h4>
                        <div id="assignmentsList" class="assignments-list"></div>
                        <button id="hideAssignmentsBtn" class="btn btn-secondary" style="margin-top: 15px;">
                            <span>ğŸ™ˆ</span> Ocultar Asignaciones
                        </button>
                    </div>

                    <button id="resetButton" class="btn btn-danger" style="margin-top: 20px;">
                        <span>ğŸ”„</span> Reiniciar Todo
                    </button>
                </div>
            </div>
        </div>

        <!-- VISTA MIEMBRO -->
        <div class="card" id="memberView" style="display: none;">
            <div class="section">
                <h2>ğŸ Descubre tu AsignaciÃ³n</h2>
                <p class="description">Selecciona tu nombre para descubrir a quiÃ©n le darÃ¡s un regalo:</p>

                <div class="select-group">
                    <select id="memberSelect" class="member-select">
                        <option value="">-- Selecciona tu nombre --</option>
                    </select>
                </div>

                <button id="revealButton" class="btn btn-reveal" disabled>
                    <span>ğŸ‰</span> Ver mi AsignaciÃ³n
                </button>
            </div>

            <div class="section" id="assignmentSection" style="display: none;">
                <div class="assignment-card">
                    <div class="assignment-header">
                        <span class="giver-name" id="giverName"></span>
                        <span class="assignment-label">le darÃ¡ un regalo a:</span>
                    </div>
                    <div class="assignment-reveal">
                        <div class="receiver-name" id="receiverName"></div>
                    </div>
                    <div class="assignment-footer">
                        <p>ğŸ¤« Recuerda mantenerlo en secreto</p>
                    </div>
                </div>
            </div>

            <div class="section" id="alreadyRevealedSection" style="display: none;">
                <div class="warning-card">
                    <h3>âš ï¸ Ya Viste tu AsignaciÃ³n</h3>
                    <p>Ya revelaste tu asignaciÃ³n anteriormente. Solo puedes verla una vez para mantener el secreto.</p>
                    <div class="past-assignment">
                        <p><strong id="pastGiver"></strong> â†’ <strong id="pastReceiver"></strong></p>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>ğŸ’ Cada persona le darÃ¡ un regalo a otra persona de la familia</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>

</html>